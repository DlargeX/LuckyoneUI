-- Lua functions
local unpack = unpack

-- AddOn namespace
local _, Private = ...

-- ElvUI modules
local E, L = unpack(ElvUI)

-- Runs after successful profile import
local function CallbackFunction(accepted)
	if not accepted then return end

	-- Handle Minimap icon
	local LDBI = LibStub('LibDBIcon-1.0')
	BigWigsIconDB.hide = true
	LDBI:Hide('BigWigs')
end

-- BigWigs profiles
function Private:Setup_BigWigs(layout)
	if not E:IsAddOnEnabled('BigWigs') then Private:Print('BigWigs ' .. L["is not installed or enabled."]) return end

	-- Profile names
	local name_main = 'Luckyone Main'
	local name_healing = 'Luckyone Healing'

	-- Profile strings
	local profile_main = 'BW1:LvvZUTTrqyZYyuuuKwjByNyaBG0dTananiwPoT13mLLJTRTLGeDDsUuUIAf5IWF2U7sjREPa6upRhb)iOd9bqpbe6rWpcc9yp0zw(JKt0HfAND(577BMDPX)WResLsIhTvSKPyXrYVBgnK7xS98A2nBLAAS7E3hflcjbLh0TEJRSB0oDDJ)BT55jPECqSqoOlprWdOh2Y8LV4Nm0RwDdsYmudx(rZ2EcknkZIPE1YDePWGz3r0GG4HhAQpB)UXcsKh9q9Ud0MQjO9Y2RZyTf5yOdvPyrEY)UIiorfWIOIMxBFXzx1yC)4ivh2Fs)M5ifVMZPcxIK6mUpPhvXcPTm3)f1Uhp8Y4OyxFrCi1xRhNaHEfjKExJB5cOqdjJ0PdTLUTLRpr5pThtYdiJWmT(umQMzaiTYupr8WR5djIEs)XjskZfKAN7CdisPlQAoLLbr433MeW8Isx)UWLaHxncQgub1ss(dZv0BvyyAT)Ctddt(wy2FdiFTeXUDueH6OiwOdFBTDajhZeuxSlQpuaT4lACI9umvn73xsvV1yb67rso4xBc4QdFt0s944GEXdJUkjSlviHCIb9P5SRvtB7MxofJjlLVB31MH7oPu1Uh3c6jeicwhE1vRqNHmo1rddRyrpQiJGgabVdnEkL55R2zrrol16zfkckK7vUlVM42vAUAmCmvsujcqx91Y5YjdE1pHEwh38MRwrQExWAzah5Wjc6FKqJCh16rWi5b8nEifThXPT5SBPb3VKximnZ8u3ZWJVayIS6DlDYjZbKiRGE(txTtJn5JrAaO0mhtRI82Tp7nNAN1hxwjAKNY)l4vwv7B0ZdKIIcMpzb)kBGiMF88IeT0b(of2okrfxNivTGHbMBaWM8XVIcB7ZC)aWsPzMyM1(MzF6z1)18lS6d6WjUWOUXem6By9u(7mg)77JJdn0Zx5EyUYW2B3BsgFkb2dMEplAam8c63wFmC74scOMt6sYg3K)2C4Vwe3paxGtI6Do2xF5bpyfE85xqVSrW6tG8Rhsf5M0LFCrcppBWaxF1RW1x)ZMyWnGl)ejOQ90xHfi(GwwnRB2NVHluAfI7YhP3EmV4D4ut855Nofss5Rc7M(1PvMqlYPZIbmjRBa1IiUGfYupEI(5fB4HQ06tO3YZUm9T6(BrrSW3ewuMeCukH7BHVU5mgIr3l(3VIxP0L2ujE333ctJJa7Ejc6DxYGbtOGsfkdDuJcOTBem46ZeYSo3Npl7Bl5OyA2U8831ROWq6CsFs625Gh2MsT6Zcc8NxcbKsv5B(r8fv3Vm9z(Pv3AwXhbqBpHVzzKxMeOy8agvyUmDxgpG6VOu)ZMj2Es)IBfVEdH5gEgB01ygqTLFdDkOpf7EF6ZtF(wbF2mKZN87TGVqqfPpkZ8fgP)fVAzbk6G9XgyAv68YtqIPPaiaTheZCPZAe5bIQ)Hp7OWr))p'
	local profile_healing = 'BW1:LvvtUTXnu4mzIrrrrALSHDIbSbsx0c0a0GyL60wVZJSCSDTTeKgxNKnDOgrndr4mKLKJSvrbkGw116iOJGw0dGobd0rWhbHUSlkFC(rYjAbH4JVF(((EpYX6F4vIWsjka3Ijjkclw(TZWr8WITNvZTzRuBRD29UyMicrlpOB9gx62OD6Aw)3dMNNK6mktih0LNi4u8bTSF5l(rlZQtxAsMHAWYpy3oqGXXzwSnRo(drfgS7oetPSBoW2C2EDzcuCa(aZU9nMQjW9Y2BYyTf5yOdwPiXbY)UIGLOOKySO5vUNF6Lng1NfR6q(d8xphO4vCow4JKyVr9r9WkseUL9EVO2DWHxWIz(Hcweo0OhhRd9sueEsJB5cDHUbn0KoWw6wo(Hiv40EejNIgczATPqunZaqALPbc2nxXVbj6jdhLiXeFTu7nXNIKsFq18kldGWVRnIscItxBs0sGWRgRRMUcQLK87NRW3QGWmA)z2ww28nHS)gT81sW87Oqc1HXKip(wg7AKCerG9HUO5qHUfFEJJDNcPQz)(sS6TwlaFpuY1(1gPD1JVbyPoJr7XUj(YKOUyHuNtiOpnNDDA6628IPqmzP8D78GzWUJlvT7GTA9uhiawpE1vRqNBiCSNbgomrpSiJGwAcobmEcMeeQ2Errol16zfkciK7wUlVMW2vAUgmCewIujcTUgAKZLtg8QFc9CoQ51xUIu9o6dYaoWHJf4Fpbh7pS1J0JK7Zx)(u0Dih3MtUftVBjVayAN5PPNbhFUMjYQtw6KxMdarwb98NUANgAYhb0qJs7CmTkYB3(03CIBwFCzLWXbQWpNxzvTVrVaTuuuW8jl9VYgiG5hpVirlDGVDHTdtuS6iPQLEyG4t1SjF8ROWUHe)pOzP0otmZAFZCp506)s(fwZbD4iF9OU1yi6Rj9uHBpc(77zSilZ8vUh2RmS92DhNXNsGDVP3tJhOhE163MFmC74JOy7XDrzJBYFDU(Voi)pOVaNe37mOV(Y9V3Q(XNFg8YfaBisNFZqQi3KP8Jks4zzdgW6REfS(6FYgcUH(YpsQv1EMRWcaF6wwnNR3JVUVU0ka3LpsV1iEX7WP2WZZpDQojLVkSt6xLwzmUiNElgqKKUuSdsCojIOE8yZZlU6hQsRpgFlp7Y03y6VffXbEtyrzsGrPeEOd86M3iDmMEX)(L8kLU0glH7(HoqA8eq3lrGNCbrpyQlOubYqh1qkUDd6GRoviZ6CF2SSVTKJIPz7YZF3GIcRtNx6ts3kh86TPyN(eknCEjeakvLVXhXxqD)I0NfMwDZzfFeaS9e(gLrErcvr4ucwyVmDxWgGdxuQ)zZeBnUFXTIxVUWE9aR17AnttTLFdDQwFk29(0NN(8nPpCgW5J)Tw6VqGfPpkZ8F(W0)IxTSafDW(qdmTkEE5jaXmuqlaThWi(4znId0IA4bp7WOH))'

	-- Profile import
	-- API:ImportProfileString(addonName, profileString, optionalCustomProfileName, optionalCallbackFunction)
	BigWigsAPI:ImportProfileString('LuckyoneUI', (layout == 'main' and profile_main) or profile_healing, (layout == 'main' and name_main) or name_healing, CallbackFunction)

	-- No chat print here
	-- BigWigs will print a message with all important information after the import
end
